<div class="announcements-container">
  <div class="page-header page-header--row">
    <h2 class="page-header__title">Announcements</h2>
    <%= link_to "Create New", new_announcement_path, class: "btn btn-primary" %>
  </div>

  <!-- Filter Tabs -->
  <div class="filter-tabs">
    <div class="filter-tab active">All</div>
    <div class="filter-tab">Drafts</div>
    <div class="filter-tab">Scheduled</div>
    <div class="filter-tab">Sent</div>
    <div class="filter-tab">Failed</div>
  </div>

  <% if @announcements.any? %>
    <div class="announcements-grid">
      <% @announcements.each do |announcement| %>
        <div class="announcement-card">
          <div class="announcement-content">
            <div class="announcement-header">
              <h2 class="announcement-title"><%= announcement.title %></h2>
              <span class="status-badge status-<%= announcement.status %>">
                <%= announcement.status %>
              </span>
            </div>

            <div class="announcement-body">
              <%= truncate(announcement.base_body, length: 200) %>
            </div>

            <div class="announcement-meta">
              <div class="meta-item">
                <span><%= announcement.created_at.strftime("%b %d, %Y at %I:%M %p") %></span>
              </div>

              <% if announcement.scheduled_for.present? %>
                <div class="meta-item">
                  <span>Scheduled for <%= announcement.scheduled_for.strftime("%b %d, %Y at %I:%M %p") %></span>
                </div>
              <% end %>

              <div class="meta-item">
                <span>Channels:</span>
                <div class="channels">
                  <% if announcement.send_to_slack %>
                    <span class="channel-badge">Slack</span>
                  <% end %>
                  <% if announcement.send_to_email %>
                    <span class="channel-badge">Email</span>
                  <% end %>
                  <% if announcement.send_to_whatsapp %>
                    <span class="channel-badge">WhatsApp</span>
                  <% end %>
                </div>
              </div>

              <div class="meta-item">
                <span><%= announcement.audiences.count %> <%= 'audience'.pluralize(announcement.audiences.count) %></span>
              </div>
            </div>

            <div class="announcement-actions">
              <%= link_to "View Details", announcement_path(announcement), class: "btn btn--sm btn-primary" %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="empty-state">
      <div class="empty-state__icon">ðŸ“¢</div>
      <h3>No announcements yet</h3>
      <p>Create your first announcement to get started</p>
      <div class="empty-state__actions">
        <%= link_to "Create Announcement", new_announcement_path, class: "btn btn-primary" %>
      </div>
    </div>
  <% end %>
</div>
